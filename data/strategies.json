{
  "strategies": {
    "CCI": {
      "name": "CCI Reversal",
      "description": "CCI(Commodity Channel Index)の売られすぎシグナルで逆張りエントリー。Donchianチャネルでイグジット。",
      "type": "mean_reversion",
      "timeframe": "1h",
      "status": "active",
      "allocation_pct": 60,
      "allocation_note": "安定資産(BTC/BNB)のスイングトレード",
      "key_metrics": {
        "total_backtests": 28000,
        "best_annual": "+124.8% (BTC 2024)",
        "worst_annual": "-7.6% (BTC 2025)",
        "conclusion": "28,000テストでCCIが最強。シンプル>複雑。"
      },
      "pairs": {
        "BTCUSDT": {
          "symbol": "WBTC",
          "mint": "3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh",
          "decimals": 8,
          "status": "enabled",
          "max_usd": 20,
          "params": {
            "cci_period": 14,
            "cci_threshold": -100,
            "sl_pct": 0.9,
            "donchian_period": 15,
            "ema_trend_period": 50,
            "max_adds": 1,
            "add_size_ratio": 0.5
          },
          "backtest": {
            "2024": "+124.8%",
            "2025": "-7.6%",
            "4yr_cumulative": "+186% (EMA50込み)",
            "note": "SL=0.9%最適(124テスト確認)"
          },
          "pair_id": "BTCUSDT",
          "position": {
            "in_position": false
          },
          "live_stats": {
            "total_trades": 2,
            "buys": 1,
            "sells": 1,
            "completed_trips": 1,
            "total_invested": 20.0,
            "total_returned": 19.67,
            "realized_pnl": -0.33
          }
        },
        "BNBUSDT": {
          "symbol": "BNB",
          "mint": "9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa",
          "decimals": 8,
          "status": "enabled",
          "max_usd": 20,
          "params": {
            "cci_period": 20,
            "cci_threshold": -130,
            "sl_pct": 1.5,
            "donchian_period": 20,
            "ema_trend_period": 0,
            "max_adds": 1,
            "add_size_ratio": 0.5
          },
          "backtest": {
            "2024": "+48.9%",
            "2025": "+4.7%",
            "note": "240パターン最適化。フィルターなしが最良"
          },
          "pair_id": "BNBUSDT",
          "position": {
            "in_position": true,
            "entry_price": 610.5,
            "entry_time": "2026-02-15T19:12:53.168009+00:00",
            "stop_loss_price": 603.2391184747339,
            "position_amount": 0.048985549999999996,
            "position_token": "BNB"
          },
          "live_stats": {
            "total_trades": 6,
            "buys": 4,
            "sells": 2,
            "completed_trips": 2,
            "total_invested": 40.0,
            "total_returned": 39.23,
            "realized_pnl": -0.77
          }
        }
      },
      "id": "CCI",
      "bot_running": true
    },
    "BOLLINGER": {
      "name": "Bollinger+RSI+Trend",
      "description": "ボリンジャーバンド下抜け+EMAトレンド確認+RSI過熱でイグジット。高勝率型。",
      "type": "mean_reversion",
      "timeframe": "1h",
      "status": "disabled",
      "allocation_pct": 0,
      "allocation_note": "有望だが未承認。hikarimaru承認後にBTCで開始予定",
      "key_metrics": {
        "win_rate": "80-89%",
        "best_annual": "+102.3% (BTC 2024)",
        "conclusion": "高勝率で安定。CCI補完として有望"
      },
      "pairs": {
        "BTCUSDT_BB": {
          "symbol": "WBTC",
          "mint": "3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh",
          "decimals": 8,
          "status": "disabled",
          "max_usd": 20,
          "params": {
            "bb_period": 15,
            "bb_std": 1.5,
            "ema_fast": 10,
            "ema_slow": 50,
            "rsi_period": 10,
            "rsi_exit": 75,
            "sl_pct": 3.0
          },
          "backtest": {
            "2024": "+102.3%",
            "2025": "+6.8%"
          },
          "pair_id": "BTCUSDT_BB",
          "live_stats": {
            "total_trades": 0,
            "buys": 0,
            "sells": 0,
            "completed_trips": 0,
            "total_invested": 0.0,
            "total_returned": 0.0,
            "realized_pnl": null
          }
        }
      },
      "id": "BOLLINGER",
      "bot_running": false
    },
    "GRID": {
      "name": "Grid Trading",
      "description": "価格下落時にグリッドレベルで段階的に買い、TP/SLで決済。レンジ/上昇相場向け。",
      "type": "grid",
      "timeframe": "30s",
      "status": "active",
      "allocation_pct": 40,
      "allocation_note": "SOLのデイトレード。日次0.3%目標",
      "key_metrics": {
        "total_backtests": 20160,
        "walk_forward_pass": "80.9% (8,152/10,080)",
        "optimal_daily": "+1.05%/day (3ペア平均)",
        "bear_2022": "壊滅(-26〜-45%)。EMA50フィルターで-1〜-4%に軽減可能",
        "conclusion": "レンジ/上昇で強力。ベア対策にトレンドフィルター必須"
      },
      "pairs": {
        "SOL_GRID": {
          "symbol": "SOL",
          "mint": "So11111111111111111111111111111111111111112",
          "decimals": 9,
          "status": "enabled",
          "max_usd": 100,
          "params": {
            "grid_spacing_pct": 1.5,
            "tp_pct": 1.5,
            "sl_pct": 1.5,
            "check_interval_sec": 30
          },
          "backtest": {
            "live_vs_optimal": "ライブ1.5% vs 最適0.3% — 安全寄り設定",
            "bear_2022_no_filter": "-26.6% (BTC)",
            "bear_2022_ema50": "-1.4% (BTC) ← 提案中"
          },
          "pair_id": "SOL_GRID",
          "live_stats": {
            "total_trades": 2,
            "buys": 1,
            "sells": 1,
            "completed_trips": 1,
            "total_invested": 20.0,
            "total_returned": 20.3,
            "realized_pnl": 0.3
          }
        },
        "ETH_GRID": {
          "symbol": "ETH",
          "mint": "7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",
          "decimals": 8,
          "status": "enabled",
          "max_usd": 100,
          "params": {
            "grid_spacing_pct": 1.5,
            "tp_pct": 1.5,
            "sl_pct": 1.5,
            "check_interval_sec": 30
          },
          "backtest": {
            "w1_daily": "0.772%",
            "w2_daily": "1.343%",
            "avg_daily": "1.057%",
            "wr": "62-82%"
          },
          "pair_id": "ETH_GRID",
          "live_stats": {
            "total_trades": 4,
            "buys": 2,
            "sells": 2,
            "completed_trips": 2,
            "total_invested": 200.0,
            "total_returned": 199.53,
            "realized_pnl": -0.47
          }
        }
      },
      "id": "GRID",
      "bot_running": true
    }
  },
  "allocation": {
    "total_portfolio": 221.63,
    "total_allocated": 280,
    "total_in_positions": 29.74,
    "cash_unallocated": 0,
    "strategies": {
      "CCI": {
        "allocated_usd": 80,
        "position_value": 29.74,
        "dry_powder": 50.26,
        "realized_pnl": -1.1,
        "effective_value": 78.9,
        "note": "BTC$40(2枠) + BNB$40(2枠)。各ペア$20×2回分"
      },
      "BOLLINGER": {
        "allocated_usd": 0,
        "position_value": 0,
        "dry_powder": 0,
        "realized_pnl": 0,
        "effective_value": 0,
        "note": "未稼働"
      },
      "GRID": {
        "allocated_usd": 200,
        "position_value": 0,
        "dry_powder": 200,
        "realized_pnl": -0.17,
        "effective_value": 199.83,
        "note": "SOL$100 + ETH$100。各1ポジション分"
      }
    }
  },
  "conclusions": {
    "28000_tests": "シンプル>複雑。CCI最強。Advanced/Adaptive/Meta全滅",
    "key_findings": [
      "pandas_ta CCIはバグ（値1000x off）→ 手動計算必須",
      "4h timeframeが最も安定",
      "5m/1m テクニカルは週間再現性なし",
      "ショートはBTC bull marketで不採用",
      "段階エントリーは一括に劣る",
      "トレンドフィルターはペア別最適化が必要",
      "Grid戦略はベア相場で壊滅 → EMA50フィルター必須"
    ]
  }
}